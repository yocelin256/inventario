$(document).ready(function () {

  $("#basic-alert").on("click", function () {
    Swal.fire({
      title: "Cualquiera puede usar una computadora",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#with-title").on("click", function () {
    Swal.fire({
      title: "¿Internet?",
      text: "¿Eso todavía existe?",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#footer-alert").on("click", function () {
    Swal.fire({
      icon: "error",
      title: "Ups...",
      text: "¡Algo salió mal!",
      footer: '<a href="#">¿Por qué tengo este problema?</a>',
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#html-alert").on("click", function () {
    Swal.fire({
      title: "<strong>Ejemplo <u>HTML</u></strong>",
      icon: "info",
      html:
        'Puedes usar <b>texto en negrita</b>, <a href="https://pixinvent.com/" target="_blank">enlaces</a> y otras etiquetas HTML',
      showCloseButton: true,
      showCancelButton: true,
      focusConfirm: false,
      confirmButtonText: '<i class="fa fa-thumbs-up"></i> ¡Genial!',
      confirmButtonAriaLabel: "Pulgar arriba, genial!",
      cancelButtonText: '<i class="fa fa-thumbs-down"></i>',
      cancelButtonAriaLabel: "Pulgar abajo",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
      cancelButtonClass: "btn btn-danger ml-1",
    });
  });

  // Posiciones con mensaje de éxito y auto cierre
  $("#position-top-start").on("click", function () {
    Swal.fire({
      position: "top-start",
      icon: "success",
      title: "Tu trabajo ha sido guardado",
      showConfirmButton: false,
      timer: 1500,
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#position-top-end").on("click", function () {
    Swal.fire({
      position: "top-end",
      icon: "success",
      title: "Tu trabajo ha sido guardado",
      showConfirmButton: false,
      timer: 1500,
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#position-bottom-start").on("click", function () {
    Swal.fire({
      position: "bottom-start",
      icon: "success",
      title: "Tu trabajo ha sido guardado",
      showConfirmButton: false,
      timer: 1500,
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#position-bottom-end").on("click", function () {
    Swal.fire({
      position: "bottom-end",
      icon: "success",
      title: "Tu trabajo ha sido guardado",
      showConfirmButton: false,
      timer: 1500,
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  // Animaciones
  $("#bounce-in-animation").on("click", function () {
    Swal.fire({
      title: "Animación Bounce In",
      animation: false,
      customClass: "animated bounceIn",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#fade-in-animation").on("click", function () {
    Swal.fire({
      title: "Animación Fade In",
      animation: false,
      customClass: "animated fadeIn",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#flip-x-animation").on("click", function () {
    Swal.fire({
      title: "Animación Flip In",
      animation: false,
      customClass: "animated flipInX",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#tada-animation").on("click", function () {
    Swal.fire({
      title: "Animación Tada",
      animation: false,
      customClass: "animated tada",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#shake-animation").on("click", function () {
    Swal.fire({
      title: "Animación Shake",
      animation: false,
      customClass: "animated shake",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  // Tipos de alerta
  $("#type-success").on("click", function () {
    Swal.fire({
      title: "¡Buen trabajo!",
      text: "¡Haz presionado el botón!",
      icon: "success",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#type-info").on("click", function () {
    Swal.fire({
      title: "¡Información!",
      text: "¡Haz presionado el botón!",
      icon: "info",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#type-warning").on("click", function () {
    Swal.fire({
      title: "¡Advertencia!",
      text: "¡Haz presionado el botón!",
      icon: "warning",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  $("#type-error").on("click", function () {
    Swal.fire({
      title: "¡Error!",
      text: "¡Haz presionado el botón!",
      icon: "error",
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  // Imagen personalizada
  $("#custom-icon").on("click", function () {
    Swal.fire({
      title: "¡Dulce!",
      text: "Modal con una imagen personalizada.",
      imageUrl: "../../../app-assets/images/slider/04.jpg",
      imageWidth: 400,
      imageHeight: 200,
      imageAlt: "Imagen personalizada",
      animation: false,
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  // Auto cierre con contador
  $("#auto-close").on("click", function () {
    let timerInterval;
    Swal.fire({
      title: "Alerta de auto cierre",
      html: "Se cerrará en <strong></strong> segundos.",
      timer: 2000,
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
      didOpen: () => {
        Swal.showLoading();
        timerInterval = setInterval(() => {
          const content = Swal.getHtmlContainer();
          if (content) {
            content.querySelector("strong").textContent = Math.ceil(Swal.getTimerLeft() / 1000);
          }
        }, 100);
      },
      willClose: () => {
        clearInterval(timerInterval);
      }
    }).then((result) => {
      if (result.dismiss === Swal.DismissReason.timer) {
        console.log("Se cerró por el temporizador");
      }
    });
  });

  // Permitir cerrar haciendo clic fuera
  $("#outside-click").on("click", function () {
    Swal.fire({
      title: "¡Haz clic fuera para cerrar!",
      text: "¡Este es un mensaje genial!",
      allowOutsideClick: true,
      confirmButtonText: "Aceptar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
    });
  });

  // Preguntas encadenadas (prompt)
  $("#prompt-function").on("click", function () {
    Swal.mixin({
      input: "text",
      confirmButtonText: "Siguiente &rarr;",
      showCancelButton: true,
      progressSteps: ["1", "2", "3"],
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
      cancelButtonClass: "btn btn-danger ml-1",
      cancelButtonText: "Cancelar"
    }).queue([
      { title: "Pregunta 1", text: "Encadenar modales swal2 es fácil" },
      "Pregunta 2",
      "Pregunta 3"
    ]).then((result) => {
      if (result.value) {
        Swal.fire({
          title: "¡Todo listo!",
          html: "Tus respuestas: <pre><code>" + JSON.stringify(result.value) + "</code></pre>",
          confirmButtonText: "¡Genial!",
          confirmButtonClass: "btn btn-primary",
          buttonsStyling: false,
        });
      }
    });
  });

  // Petición AJAX
  $("#ajax-request").on("click", function () {
    Swal.fire({
      title: "Buscar un usuario",
      input: "text",
      confirmButtonText: "Buscar",
      confirmButtonClass: "btn btn-primary",
      buttonsStyling: false,
      inputAttributes: {
        autocapitalize: "off"
      },
      showCancelButton: true,
      cancelButtonClass: "btn btn-danger ml-1",
      cancelButtonText: "Cancelar",
      showLoaderOnConfirm: true,
      preConfirm: (login) => {
        return fetch(`//api.github.com/users/${login}`)
          .then(response => {
            if (!response.ok) {
              throw new Error(response.statusText);
            }
            return response.json();
          })
          .catch(error => {
            Swal.showValidationMessage(`La solicitud falló: ${error}`);
          });
      },
      allowOutsideClick: () => !Swal.isLoading()
    }).then((result) => {
      if (result.value) {
        Swal.fire({
          title: `${result.value.login} avatar`,
          imageUrl: result.value.avatar_url,
          confirmButtonText: "Aceptar",
          confirmButtonClass: "btn btn-primary",
          buttonsStyling: false,
        });
      }
    });
  });

  // Confirmación con texto personalizado
  $(".confirm-text").on("click", function () {
    Swal.fire({
      title: "¿Estás seguro?",
      text: "¡No podrás revertir esto!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "¡Sí, bórralo!",
      cancelButtonText: "Cancelar",
      confirmButtonClass: "btn btn-primary",
      cancelButtonClass: "btn btn-danger ml-1",
      buttonsStyling: false,
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire({
          icon: "success",
          title: "¡Borrado!",
          text: "Tu archivo ha sido borrado.",
          confirmButtonClass: "btn btn-success",
        });
      }
    });
  });

  $("#confirm-color").on("click", function () {
    Swal.fire({
      title: "¿Estás seguro?",
      text: "¡No podrás revertir esto!",
      icon: "warning",
      showCancelButton: true,
      confirmButtonColor: "#3085d6",
      cancelButtonColor: "#d33",
      confirmButtonText: "¡Sí, bórralo!",
      cancelButtonText: "Cancelar",
      confirmButtonClass: "btn btn-primary",
      cancelButtonClass: "btn btn-danger ml-1",
      buttonsStyling: false,
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire({
          icon: "success",
          title: "¡Borrado!",
          text: "Tu archivo ha sido borrado.",
          confirmButtonClass: "btn btn-success",
        });
      } else if (result.dismiss === Swal.DismissReason.cancel) {
        Swal.fire({
          title: "Cancelado",
          text: "Tu archivo imaginario está seguro :)",
          icon: "error",
          confirmButtonClass: "btn btn-success",
        });
      }
    });
  });

});
